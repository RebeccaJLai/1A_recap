<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>In Class Cars Task</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Rebecca's Stuff</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="R_and_file_types.html">R &amp; its file types</a>
    </li>
    <li>
      <a href="packages.html">Sessions, directories, functions &amp; packages</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Functions We Used
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="read_csv.html">read_csv()</a>
    </li>
    <li>
      <a href="filter.html">filter()</a>
    </li>
    <li>
      <a href="arrange.html">arrange()</a>
    </li>
    <li>
      <a href="select.html">select()</a>
    </li>
    <li>
      <a href="mutate.html">mutate()</a>
    </li>
    <li>
      <a href="group_by.html">group_by()</a>
    </li>
    <li>
      <a href="summarise.html">summarise()</a>
    </li>
    <li>
      <a href="ggplot.html">ggplot()</a>
    </li>
    <li>
      <a href="inner_join.html">inner_join()</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extras
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="construction.html">Diagnosing Errors</a>
    </li>
    <li>
      <a href="construction.html">Adjusting Appearance of RStudio</a>
    </li>
    <li>
      <a href="construction.html">Reproduciblilty Issues</a>
    </li>
    <li>
      <a href="construction.html">Playtime with Built in Data</a>
    </li>
    <li>
      <a href="construction.html">Pipelines</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tasks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="in_class_cars_task.html">1A Recap: Cars Task</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="feedback.html">Feedback</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">In Class Cars Task</h1>

</div>


<div id="task" class="section level1">
<h1>Task</h1>
<p>In groups we are going to work through a task. In response to feedback from the reps, it is a less abstract task and so is focused on a real-world question…</p>
<p><strong>I want to buy a car. Help me pick!</strong></p>
<p>We are doing this in groups because we will never be coding in a vacuum! We Google things, talk to colleagues, look up discussion boards etc.</p>
<p>Talking through some tricky stuff can help us wrap our heads around it, and explaining things to others can enhance our own understanding of what we are explaining.</p>
<p>Also to remember to look at the help files if you need to!</p>
<div id="data" class="section level2">
<h2>Data</h2>
<p>Download the files <a href="downloadables/cars_for_sale.csv">cars_for_sale.csv</a> and <a href="downloadables/prices.csv">prices.csv</a> and put them in a folder (directory) which you can safely save your work to (H or M drive). The first .csv contains a list of cars for sale with some information that will help us decide and the second .csv their prices.</p>
<p>You should also open a new R script or .Rmd file and save it with an appropriate name in this very same location. <em>It’s just good practice to keep all files for the same project in the same place for ease of access</em>.</p>
</div>
<div id="setting-the-working-directory" class="section level2">
<h2>Setting the Working Directory</h2>
<p>Set your working directory by going to <code>Session &gt; Set Working Directory</code> and selecting <code>Choose Directory...</code>, or <code>To Source File Location</code> if all of your files are in the same folder together.</p>
</div>
<div id="required-packages" class="section level2">
<h2>Required Packages</h2>
<p>Load the appropriate package from the library.</p>
</div>
<div id="reading-in-our-data-files" class="section level2">
<h2>Reading in our data files</h2>
<p>Read in the two .csv files <code>cars_for_sale.csv</code> and <code>prices.csv</code>.</p>
</div>
<div id="selecting-variables-to-keep-or-remove" class="section level2">
<h2>Selecting variables to keep or remove</h2>
<p>I don’t much care about whatever-wheel-drive the vehicle is, or what the highway fuel consumption rate is, and all of the cars on this list are manual gearboxes, so we can bin those three columns. variables.</p>
<p>Remove the columns <code>trans</code>, <code>hwy</code> and <code>drv</code> from the data table <code>cars</code>.</p>
</div>
<div id="filtering-unwanted-rows" class="section level2">
<h2>Filtering unwanted rows</h2>
<p>There are some cars that just don’t suit my needs, or plain just don’t suit my life or driving style. The car must not be a 2 seater, an SUV or pick-up truck.</p>
<p>Remove rows that relate to the <code>class</code> of <code>2seater</code>, <code>suv</code> and <code>pickup</code> from <code>cars_selected</code>.</p>
</div>
<div id="calculating-summary-statistics-by-groups" class="section level2">
<h2>Calculating summary statistics by groups</h2>
<p>I want a car that has better than average city fuel consumption. Before we can do that, we need to know what that value is. Additionally, this varies by fuel type.</p>
<p>Group the <code>cars_filtered</code> data by fuel type <code>fl</code> and calculate the mean for each.</p>
</div>
<div id="creating-new-columns" class="section level2">
<h2>Creating new columns</h2>
<p>Add a column called <code>lower</code> to <strong><code>cars_filtered</code></strong> that gives a <code>TRUE</code> if the mean city fuel consumption is greater than or equal to that for the mean of <code>p</code> (given in <code>cars_summarised</code>), or <code>FALSE</code> if it is lower.</p>
<p><strong>Remember that fuel economy = higher the miles per gallon the better!</strong></p>
</div>
<div id="joining-data-tables" class="section level2">
<h2>Joining data tables</h2>
<p>Now we need to add the pricing information.</p>
<p>Join <code>cars_mutated</code> with <code>prices</code>. Note that we have <strong>3</strong> key variables here, <code>manufacturer</code>, <code>model</code> and <code>year</code>!</p>
</div>
<div id="arranging-our-data" class="section level2">
<h2>Arranging our data</h2>
<p>Arrange <code>cars_mutated</code> by <code>cty</code> in descending order.</p>
</div>
<div id="name-that-car" class="section level2">
<h2>Name that Car!</h2>
<p>Which car should I be buying then? And how much will it cost me?</p>
</div>
<div id="graph-it" class="section level2">
<h2>Graph it!</h2>
<p>Make a scatterplot of the <code>cty</code> fuel consumption on the x axis against <code>displ</code> engine displacement (in litres) on the y axis.</p>
<p>Brownie points for anyone who can level up the graph by making the points different colours for those above and below the mean for petrol cars.</p>
</div>
</div>
<div id="done" class="section level1">
<h1>Done?</h1>
<p>Want to check your work? Right click <a href="downloadables/cars_1a_SOLUTIONS.Rmd">solutions</a>and select “save as” to download the .Rmd.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
